{{ template "header.html" . }}
<div class="container-fluid">
    
    <table class="table table-striped table-hover" id="itemsTable">
        <thead>
            <tr>
                <th scope="col" onclick="sortTable(0)">BookID</th>
                <th scope="col" onclick="sortTable(1)">Author</th>
                <th scope="col" onclick="sortTable(2)">Title</th>
                <th scope="col" onclick="sortTable(3)">Available</th>
                <th scope="col" onclick="sortTable(4)">ItemID</th>
                <th scope="col" onclick="sortTable(5)">Status</th>
                <th scope="col" onclick="sortTable(6)">Location</th>
                <th scope="col" onclick="sortTable(7)">Error</th>
                <th scope="col" onclick="sortTable(8)">LastUpdate</th>
            </tr>
        </thead>
        <tbody>
            {{range .Items}}
                <tr>
                    <td scope="row"><a href="{{.URL}}">{{.BookID}}</a></td>
                    <td>{{.Author}}</td>
                    <td>{{.Title}}</td>
                    
                    {{if .Available}}
                    <td><span class="badge badge-success">{{.Available}}</span></td>
                    {{else}}
                    <td><span class="badge badge-secondary">{{.Available}}</span></td>
                    {{end}}
                    
                    <td>{{.ItemID}}</td>
                    <td>{{.Status}}</td>
                    <td>{{.Location}}</td>
                    <td>{{.Error}}</td>
                    <td>{{.LastUpdate}}
                        <!-- <button type="button" class="close" aria-label="Close" data-toggle="modal" data-target="#removeModal-{{.BookID}}-{{.ItemID}}">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <div class="modal fade" id="removeModal-{{.BookID}}-{{.ItemID}}" tabindex="-1" role="dialog" aria-labelledby="remove-{{.BookID}}-{{.ItemID}}" aria-hidden="true">
                          <div class="modal-dialog" role="document">
                            <div class="modal-content">
                              <form action="/restricted/remove-book" method="POST" >
                                <div class="modal-header">
                                  <h5 class="modal-title" id="removeModalLabel">Remove book</h5>
                                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                                </div>
                                <div class="modal-body">
                                    <dl class="row">
                                        <dt class="col-sm-3">ID</dt>
                                        <dd class="col-sm-9">{{.BookID}}</dd>
                                        <dt class="col-sm-3">Author</dt>
                                        <dd class="col-sm-9">{{.Author}}</dd>
                                        <dt class="col-sm-3">Title</dt>
                                        <dd class="col-sm-9">{{.Title}}</dd>
                                    </dl>
                                </div>
                                <div class="modal-footer">
                                    <div style="display:none;">
                                      <input id="bookid" name="bookid" value="{{ .BookID }}"/>
                                    </div>
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    <button type="submit" class="btn btn-primary">Remove</button>
                                </div>
                              </form>
                            </div>
                          </div>
                        </div> -->
                    </td>
                </tr>
            {{end}}
        </tbody>
    </table>
    
</div>
{{ template "footer.html"  . }}